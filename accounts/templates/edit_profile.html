{% extends 'base.html' %}
{% load bootstrap_tags %}
{% block page_title %}: {{ user }}'s Profile {% endblock %}
{% block page_header %} - {{ user }}'s Profile {% endblock %}
{% block content %}
<div class="panel-wrapper panel panel-info bg-through ml-2 mt-5">
    <div class="panel-heading">
        You can edit your Profile Details below
    </div>
    <div class="panel-body">
        <form method="post" action="{% url 'update_profile'%}">
            <div style="display:none">
                <input type="hidden" value="{{ csrf_token }}" name="csrfmiddlewaretoken">
            </div>
            <div class="row">
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                    <table class="table table-condensed">
                        <thead>
                            <tr colspan=2>
                                <th>#</th>
                                <th>Personal details</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <th scope="row">
                                    <p>First Name</p>
                                </th>
                                <td>
                                    <p>{{ user_form.first_name }}</p>
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">
                                    <p>Last Name</p>
                                </th>
                                <td>
                                    <p>{{ user_form.last_name }}</p>
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">
                                    <p>E-mail</p>
                                </th>
                                <td>
                                    <p>{{ user_form.email}}</p>
                                    {% if user_form.email.errors %}
                                    <p class="alert alert-danger m-0">
                                        {{ user_form.email.errors.as_text|cut:"* " }}</p>
                                    {% endif %}
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">
                                    <p>Birth Date</p>
                                </th>
                                <td>
                                    <p>{{ profile_form.birth_date}}</p>
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">
                                    <p>Phone Number</p>
                                </th>
                                <td>
                                    <p>{{ profile_form.phone_number }}</p>
                                </td>
                            </tr>
                            <tr>
                                <th>
                                    <p>Are you a vendor as well?</p>
                                </th>
                                <td>
                                    <label for="id_reseller">
                                        <a type="button" id="is_vendor" class="btn btn-sm {% if user.userprofile.reseller %}btn-danger{% else %}btn-success{% endif %}">
                                            {% if user.userprofile.reseller %}No{% else %}Yes{% endif %}
                                        </a>
                                    </label>
                                    {{ profile_form.reseller }}
                                    
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">
                                    <p>Street address</p>
                                    <p>#</p>
                                </th>
                                <td>
                                    <p>{{ profile_form.street_address1 }}</p>
                                    <p>{{ profile_form.street_address2 }}</p>
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">
                                    <p>Country</p>
                                </th>
                                <td>
                                    {{ profile_form.country }}
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">
                                    <p>Post code</p>
                                </th>
                                <td>
                                    <p>{{ profile_form.post_code }}</p>
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">
                                    <p>City / Town</p>
                                </th>
                                <td>
                                    {{ profile_form.town_or_city }}
                                </td>
                            </tr>

                            <tr>
                                <th scope="row">
                                    <p>County</p>
                                </th>
                                <td>
                                    {{ profile_form.county }}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                    <table class="table table-condensed">
                        <thead>
                            <tr>
                                <th>Bio</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <p>{{ profile_form.bio}}</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                    <button class="btn btn-info" type="submit">Save changes</button>
                </div>
            </div>
        </form>
    </div>
</div>
{% endblock %}